

ACTION=="add|remove", SUBSYSTEM=="iogroup", DEVPATH=="*/iogroup1",  RUN+="/usr/lib/unipi/uhelper '' iogroup1 1 $name"
ACTION=="add|remove", SUBSYSTEM=="unipi_gpio", DEVPATH=="*/iogroup1/*",  RUN+="/usr/lib/unipi/uhelper '' $name 1 $name"
ACTION=="add|remove", SUBSYSTEM=="iio", DEVPATH=="*/iogroup1/*",  RUN+="/usr/lib/unipi/uhelper '' $name 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x1",  RUN+="/usr/lib/unipi/uhelper '' ULED1 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x2",  RUN+="/usr/lib/unipi/uhelper '' ULED2 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x3",  RUN+="/usr/lib/unipi/uhelper '' ULED3 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x4",  RUN+="/usr/lib/unipi/uhelper '' ULED4 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x5",  RUN+="/usr/lib/unipi/uhelper '' ULED5 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*iogroup@1:led/leds/unipi:green:uled-x6",  RUN+="/usr/lib/unipi/uhelper '' ULED6 1 $name"

ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/act-led", RUN+="/bin/sh -ec 'echo timer > /sys/$${DEVPATH}/trigger && echo 50 > /sys/$${DEVPATH}/delay_off && echo 2000 > /sys/$${DEVPATH}/delay_on || exit 0"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/wifi-led", RUN+="/bin/sh -ec 'echo wlan0 > /sys/$${DEVPATH}/device_name && echo 1 > /sys/$${DEVPATH}/link || exit 0'"

ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x1-led", RUN+="/usr/lib/unipi/uhelper '' ULED1 1 $name"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x2-led", RUN+="/usr/lib/unipi/uhelper '' ULED2 1 $name"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x3-led", RUN+="/usr/lib/unipi/uhelper '' ULED3 1 $name"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x4-led", RUN+="/usr/lib/unipi/uhelper '' ULED4 1 $name"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x5-led", RUN+="/usr/lib/unipi/uhelper '' ULED5 1 $name"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/x6-led", RUN+="/usr/lib/unipi/uhelper '' ULED6 1 $name"

ACTION=="add|remove", SUBSYSTEM=="tty", DEVPATH=="*/tty/ttyAMA1", RUN+="/usr/lib/unipi/uhelper rs485.1 tty 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-1-txled",  RUN+="/usr/lib/unipi/uhelper rs485.1 led.tx 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-1-rxled",  RUN+="/usr/lib/unipi/uhelper rs485.1 led.rx 1 $name"
## if using tty-led-trigger
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-1-txled", RUN+="/bin/sh -ec 'echo tty > /sys$${DEVPATH}/trigger; echo ttyAMA1 > /sys/$${DEVPATH}/ttyname && echo 0 > /sys/$${DEVPATH}/rx || exit 0'"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-1-rxled", RUN+="/bin/sh -ec 'echo tty > /sys$${DEVPATH}/trigger; echo ttyAMA1 > /sys/$${DEVPATH}/ttyname && echo 0 > /sys/$${DEVPATH}/tx || exit 0'"

ACTION=="add|remove", SUBSYSTEM=="tty", DEVPATH=="*/tty/ttyAMA2", RUN+="/usr/lib/unipi/uhelper rs485.2 tty 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-2-txled",  RUN+="/usr/lib/unipi/uhelper rs485.2 led.tx 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-2-rxled",  RUN+="/usr/lib/unipi/uhelper rs485.2 led.rx 1 $name"
## if using tty-led-trigger
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-2-txled", RUN+="/bin/sh -ec 'echo tty > /sys$${DEVPATH}/trigger; echo ttyAMA2 > /sys/$${DEVPATH}/ttyname && echo 0 > /sys/$${DEVPATH}/rx || exit 0'"
ACTION=="add", SUBSYSTEM=="leds", DEVPATH=="*/leds/rs485-2-rxled", RUN+="/bin/sh -ec 'echo tty > /sys$${DEVPATH}/trigger; echo ttyAMA2 > /sys/$${DEVPATH}/ttyname && echo 0 > /sys/$${DEVPATH}/tx || exit 0'"

ACTION=="add", SUBSYSTEM=="spi", DEVPATH=="*/spi4.0", ENV{UHELPER_LINK}="eeprom", RUN+="/usr/lib/unipi/uhelper retain mem 1 $name"

ACTION=="add", SUBSYSTEM=="tpm", DEVPATH=="*/spi6.1/*", RUN+="/usr/lib/unipi/uhelper tpm dev 1 $name"
ACTION=="add", SUBSYSTEM=="tpmrm", DEVPATH=="*/spi6.1/*", RUN+="/usr/lib/unipi/uhelper tpm devrm 1 $name"

# Quectel EC200U
ACTION=="add|remove", SUBSYSTEM=="tty", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="0901", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.7/tty*",  RUN+="/usr/lib/unipi/uhelper lte.1 tty_mng 1 $name"
ACTION=="add|remove", SUBSYSTEM=="tty", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="0901", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.2/tty*",  RUN+="/usr/lib/unipi/uhelper lte.1 tty_at1 1 $name"
ACTION=="add|remove", SUBSYSTEM=="tty", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="0901", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.8/tty*",  RUN+="/usr/lib/unipi/uhelper lte.1 tty_gnss 1 $name"
ACTION=="add|remove", SUBSYSTEM=="net", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="0901", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.0/net*", RUN+="/usr/lib/unipi/uhelper lte.1 net 1 $name", NAME="wwan0"
# Quectel EC200A
ACTION=="add|remove", SUBSYSTEM=="tty", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="6005", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.3/tty*",  RUN+="/usr/lib/unipi/uhelper lte.1 tty_mng 1 $name"
ACTION=="add|remove", SUBSYSTEM=="tty", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="6005", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.4/tty*",  RUN+="/usr/lib/unipi/uhelper lte.1 tty_at1 1 $name"
ACTION=="add|remove", SUBSYSTEM=="net", ATTRS{idVendor}=="2c7c", ATTRS{idProduct}=="6005", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1.2/1-1.2:1.0/net*", RUN+="/usr/lib/unipi/uhelper lte.1 net 1 $name", NAME="wwan0"

DEVPATH=="/devices/platform/lte_kill/rfkill/rfkill0", RUN+="/usr/lib/unipi/uhelper lte.1 rfkill 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/sim-led",  RUN+="/usr/lib/unipi/uhelper lte.1 led.sim 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/net-led",  RUN+="/usr/lib/unipi/uhelper lte.1 led.net 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/sig-led",  RUN+="/usr/lib/unipi/uhelper lte.1 led.sig 1 $name"
ACTION=="add|remove", SUBSYSTEM=="leds", DEVPATH=="*/leds/int-led",  RUN+="/usr/lib/unipi/uhelper lte.1 led.int 1 $name"


ACTION=="add", SUBSYSTEM=="usb", DEVPATH=="*fe9c0000.xhci/usb1/1-1/1-1:1.0",  RUN+="/bin/sh -ec 'echo 1 > /sys/bus/usb/devices/1-1:1.0/1-1-port1/disable'"
